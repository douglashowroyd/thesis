\chapter{Converting between different congruence representations}
\label{chap:converting}

A congruence is a binary relation, and therefore is formally described as a set
of pairs---a subset of $S \times S$..  In a computational setting, it would be
possible to store a congruence by simply storing every one of these pairs, so
long as $S$ was finite.  However, this could well use a lot of storage---even
the trivial congruence would use $O(|S|)$ space, and in general a congruence
could use $O(|S|^2)$ space.

A congruence is a binary relation, and therefore is formally described as a set
of pairs.  In a computational setting, it is rarely practical to keep track of
every pair in a congruence; a congruence on a semigroup of size $n$ contains
$n^2$ pairs in the worst case, and on an infinite semigroup contains an infinite
number of pairs.  A congruence can be described in more concise ways: for
example, taking advantage of it being an equivalence relation and recording only
its equivalence classes; or in the case of a Rees congruence, storing a
generating set for the ideal which defines it.  A variety of different ways to
describe a congruence are explained in Chapter \ref{chap:converting}, along with
ways to convert from one to another.  However, a congruence is still just a set
of pairs, and by reducing the number of pairs we store, we can often describe a
congruence very concisely using them.

In Chapter \ref{chap:pairs} we looked at how a semigroup congruence can be
represented by a set of generating pairs.  In fact,

\section{Ways of representing a congruence}
\subsection{Generating pairs}
\subsection{Completely (0-)simple: linked triples}
\subsection{Inverse semigroups: kernel-trace pairs}
\subsection{Rees congruences}
A \textbf{Rees congruence} is a congruence on a semigroup $S$ with a distinguished
congruence class $I$ which is a two-sided ideal of $S$, and in which every other
congruence class is a singleton.  We may write this congruence as $\rho_I$, and
we may write its quotient $S/\rho_I$ as $S/I$.

Some or all of a semigroup's congruences may be Rees: in particular, since $S$
is an ideal of $S$, the universal congruence $S \times S$ is a Rees congruence.

Another type of congruence is one given by a set of generating pairs: if $R
\subset S \times S$, then we let $R^\sharp$ be the least congruence on $S$
containing all the pairs in $R$.  We describe $R$ as a set of \textbf{generating
  pairs} for $R^\sharp$, and any congruence on $S$ can be described in this way.

\subsection{Regular semigroups: something like kernel-trace?}

\section{Generating pairs of a Rees congruence}
\label{sec:rees-to-pairs}
A natural question, given an ideal $I$, is how to find a set of generating pairs
for $\rho_I$.

\begin{theorem}
  Let $S$ be a semigroup, $I$ an ideal of $S$, and $X$ an ideal generating set
  for $I$.  Also let $M$ be the minimal ideal of $S$ (which may or may not be
  equal to $I$).  Then $$X \times M$$ is a set of generating pairs for the Rees
  congruence $\rho_I$.
  \begin{proof}
    Let $\rho$ be the congruence generated by $X \times M$.  First we show that
    $\rho \subseteq \rho_I$, and then that $\rho_I \subseteq \rho$.

    Let $(i,m) \in X \times M$.  We have $X \subseteq I$ since $X$ is a
    generating set for $I$, and $M \subseteq I$ since $M$ is contained in any
    ideal of $S$.  Hence $i$ and $m$ both lie in $I$, so they are in the same
    class of the Rees congruence: $(i,m) \in \rho_I$.  Hence $X \times M
    \subseteq \rho_I$, and so $\rho$ (the least congruence containing $X \times
    M$) must also be contained in $\rho_I$.  Hence $\rho \subseteq \rho_I$.

    Now let $(a,b) \in \rho_I$; we wish to show that $(a,b) \in \rho$.  If $a=b$
    then we certainly have $(a,b) \in \rho$.  Otherwise we must have $a,b \in
    I$.  Since $X$ \textit{generates} $I$, we have $I = S^1XS^1$.  Therefore we
    can write
    $$a = s_1x_1t_1, \quad b = s_2x_2t_2,$$
    for some $x_1,x_2 \in X$ and $s_1,s_2,t_1,t_2 \in S^1$.

    Now choose some $m \in M$.  By definition $(x_1,m), (x_2,m) \in \rho$ since
    $X \times M \subseteq \rho$, and
    by the compatibility properties of a congruence,
    $$(s_1x_1t_1,s_1mt_1), (s_2x_2t_2,s_2mt_2) \in \rho.$$

    Since $m \in M$, we must have $s_1mt_1,s_2mt_2 \in M$.  Let $x_0$ be an
    arbitrary element of $X$.
    We see $(x_0,s_1mt_1), (x_0,s_2mt_2) \in X \times M$, and so by transitivity
    $(s_1mt_1, s_2mt_2) \in \rho$.
    Hence
    $$a ~=~ s_1x_1t_1 ~\rho~ s_1mt_1 ~\rho~ s_2mt_2 ~\rho~ s_2x_2t_2 = b,$$
    and $(a,b) \in \rho$ as required.
  \end{proof}
\end{theorem}

\section{Kernel and trace from generating pairs}
\label{sec:pairs-to-kertr}

\section{Generating pairs from kernel and trace}
\label{sec:kertr-to-pairs}
