\chapter{Introduction}
\label{chap:intro}

Things to define/explain:

\begin{itemize}
\item $\mathbf{R}^\sharp$
\item $\mathbf{R}^e$, $\mathbf{R}^c$, $\mathbf{R}^r$, $\mathbf{R}^l$, and the
  fact that they are the smallest compatible rels (see congs2.tex)
\item Lattices of congruences (intersection, join, etc.)
\item Green's relations
\item Digraph, digraph-with-edge-labels
\item Right regular representation
\end{itemize}

\section{Basic definitions}
\label{sec:intro-basic}

\begin{definition}
  \label{def:semigroup}
  A \textbf{semigroup} is a non-empty set $S$ together with
  a binary operation $*: S \times S \to S$ such that
  $$(x * y) * z = x * (y * z)$$
  for all $x, y, z \in S$.
\end{definition}
The operation symbol $*$ is often omitted where there is no risk of ambiguity.
% TODO: talk about the empty semigroup

\begin{definition}
  \label{def:monoid}
  A \textbf{monoid} is a semigroup $M$ containing a distinguished element $e$
  such that
  $$ex = xe = x$$
  for all $x \in M$.  The element $e$ is called the \textit{identity} of $M$.
\end{definition}

\begin{definition}
  \label{def:cayley-graph}
  Let $S$ be a semigroup, with a generating set $X$.  The \textbf{right Cayley
    graph} of $S$ with respect to $X$ is the digraph-with-edge-labels $\Gamma$,
  which is described as follows:
  \begin{itemize}
  \item The vertices of $\Gamma$ are the elements of $S$;
  \item For each pair $(s, x) \in S \times X$ there exists an edge from $s$ to
    $s \cdot x$ labelled by $x$:
    $$s \overset{x}{\longrightarrow} s \cdot x$$
  \end{itemize}
  The \textbf{left Cayley graph} of $S$ with respect to $X$ is defined
  analogously, replacing $s \cdot x$ with $x \cdot s$.
\end{definition}

\section{Homomorphisms}
\label{sec:homomorphisms}

\begin{definition}
  \label{def:homomorphism}
  Let $S$ and $T$ be semigroups.  A semigroup \textbf{homomorphism} is a
  function $\phi: S \to T$ such that
  $$(x)\phi \cdot (y)\phi = (xy)\phi,$$
  for all $x, y \in S$.
\end{definition}

\begin{definition}
  \label{def:monomorphism}
  A semigroup \textbf{monomorphism} is a semigroup homomorphism which is
  injective (one-to-one).  It is indicated on diagrams by a hooked arrow:
  $$S \hookrightarrow T$$
\end{definition}

\begin{definition}
  \label{def:epimorphism}
  A semigroup \textbf{epimorphism} is a semigroup homomorphism which is
  surjective (onto).  It is indicated on diagrams by a double-headed arrow:
  $$S \twoheadrightarrow T$$
\end{definition}

Monoid homomorphisms, monomorphisms and epimorphisms are defined analogously,
replacing the word ``semigroup'' with ``monoid''.  If not specified, it is
assumed that ``homomorphism'' refers to a semigroup homomorphism.
% TODO: monoid homos map id to id

\begin{definition}
  The \textbf{kernel} $\ker\phi$ of a homomorphism $\phi:S \to T$ is the
  equivalence relation on $S$ defined by the rule that $(a,b) \in \ker\phi$ if
  and only if
  $$(a)\phi = (b)\phi,$$
  for $a, b \in S$.
\end{definition}

\begin{definition}
  The \textbf{image} $\im\phi$ of a homomorphism $\phi:S \to T$ is the set of
  elements $t \in T$ such that
  $$(s)\phi = t$$
  for some $s \in S$.
\end{definition}

\section{Congruences \& presentations}
\label{sec:intro-congs}

\begin{definition}
  \label{def:congruence}
  Let $S$ be a semigroup, and let $\rho$ be an equivalence relation on $S$.  The
  relation $\rho$ is:
  \begin{itemize}
  \item a \textbf{left congruence} if $(x, y) \in \rho$ implies that
    $(ax, ay) \in \rho$ for all $a \in S$;
  \item a \textbf{right congruence} if $(x, y) \in \rho$ implies that
    $(xa, ya) \in \rho$ for all $a \in S$;
  \item a \textbf{two-sided congruence} if it is both a left congruence and a
    right congruence.
  \end{itemize}
\end{definition}

When we talk about a \textit{congruence} without specifying that it is left or
right, it is understood to be a two-sided congruence.

\begin{proposition}
  \label{prop:cong-def}
  Let $\rho$ be a congruence on a semigroup $S$.  If $(x, y), (s, t) \in \rho$,
  then $(xs, yt) \in \rho$.
  \begin{proof}
    Since $\rho$ is a left congruence, $xs ~\rho~ xt$, and since it is a right
    congruence, $xt ~\rho~ yt$.  Hence, by transitivity, $xs ~\rho~ yt$, as
    required.
  \end{proof}
\end{proposition}

Congruences have a property that allows new semigroups to be made from old
ones.  Consider the following definition of a quotient semigroup.

\begin{definition}
  \label{def:quotient}
  Let $S$ be a semigroup, and let $\rho$ be a congruence on $S$.  The
  \textbf{quotient semigroup} $S / \rho$ is the semigroup whose elements are the
  congruence classes of $\rho$, and whose operation $*$ is defined by
  $$[a]_\rho * [b]_\rho = [ab]_\rho,$$
  for $a, b \in S$.
\end{definition}

% TODO: is [a] notation well understood?

In order for quotient semigroups to be well-defined, the product $[ab]_\rho$ of
the two classes $[a]_\rho$ and $[b]_\rho$ must not depend on which specific
elements $a$ and $b$ are chosen to represent the two classes.  Hence consider
arbitrary elements $a' \in [a]_\rho$ and $b' \in [b]_\rho$.  We must have
$[a]_\rho * [b]_\rho = [a']_\rho * [b']_\rho$, so we must have
$[ab]_\rho = [a'b']_\rho$.  Since $a ~\rho~ a'$ and $b ~\rho~ b'$, we have
$ab ~\rho~ a'b'$ by Proposition \ref{prop:cong-def}, and so
$[ab]_\rho = [a'b']_\rho$ as required.  So a quotient semigroup is well-defined.
However, note that such a condition does not generally hold for left and right
congruences, which do not generally satisfy the condition stated in Proposition
\ref{prop:cong-def}.  Hence a quotient semigroup as described in Definition
\ref{def:quotient} can only be taken using a two-sided congruence.

\begin{definition}
  \label{def:natural-homomorphism}
  Let $S$ be a semigroup, and let $\rho$ be a congruence on $S$.  The
  \textbf{natural homomorphism} $\pi_\rho: S \to S / \rho$ is the map which
  takes an element of $S$ to its $\rho$-class:
  $$\pi_\rho: x \mapsto [x]_\rho.$$
  It is denoted simply by $\pi$ where there is no risk of ambiguity.
\end{definition}

Congruences have long been an important area of study in semigroup theory.
Perhaps the most important feature of two-sided congruences is that they
determine the homomorphic images of a semigroup, and therefore describe an
important part of a semigroup's structure.  Consider the following theorem.

\begin{theorem}[First isomorphism theorem]
  \label{thm:first-isomorphism}
  Let $S$ and $T$ be semigroups, and let $\phi$ be a homomorphism from $S$ to
  $T$.  Then the kernel of $\phi$ is a congruence on $S$, and the image of
  $\phi$ is isomorphic to the quotient semigroup $S / \ker{\phi}$.
\end{theorem}
%TODO: define phi-bar, and maybe explain how these diagrams work?

\begin{figure}[h]
  \centering
  $
  \begin{tikzcd}
    S \ar[d, two heads, "\pi"'] \ar[r, "\phi"] & T \\
    S / \ker{\phi} \ar[ur, dashed, hook, "\bar\phi"']
  \end{tikzcd}
  $
  \caption{Illustration of Theorem \ref{thm:first-isomorphism}}
  \label{fig:first-isomorphism-theorem}
\end{figure}
These ideas fit closely with the concept of semigroup \textit{presentations},
which we can describe after the concept of \textit{free semigroups}.

\begin{definition}
  \label{def:free}
  Let $X$ be a set.  The \textbf{free monoid} over $X$ is denoted by $X^*$, and
  consists of all finite sequences of elements in $X$, with the operation of
  concatenation.  The \textbf{free semigroup} $X^+$ is the subsemigroup of $X^*$
  consisting of sequences of length at least $1$.
\end{definition}

When we consider free semigroups and monoids, the set $X$ is usually referred to
as an \textit{alphabet}, its elements as \textit{letters}, and sequences of
letters as \textit{words}.

We now describe a concept key to Chapter \ref{chap:pairs} as well as to
semigroup presentations, that of \textit{generating pairs}.

\begin{definition}
  \label{def:gen-pairs}
  Let $S$ be a semigroup and let $R$ be a subset of $S \times S$.
  \begin{itemize}
  \item
    The \textbf{left congruence generated by} $R$ is the least left congruence
    (with respect to containment) which contains $R$ as a subset.
  \item
    The \textbf{right congruence generated by} $R$ is the least right congruence
    (with respect to containment) which contains $R$ as a subset.
  \item
    The \textbf{congruence generated by} $R$ is the least congruence
    (with respect to containment) which contains $R$ as a subset.  It is denoted
    by $R^\sharp$.
  \end{itemize}
\end{definition}

We can now define semigroup presentations, a useful method of describing a
semigroup which will be encountered many times in this thesis, particularly in
Chapter \ref{chap:pairs}.  We will give the definition, and then discuss how the
definition is used to describe a semigroup.

\begin{definition}
  \label{def:presentation}
  A \textbf{semigroup presentation} is a pair $\pres X R$ consisting of a set
  $X$ and a set of pairs $R \subseteq X^+ \times X^+$.  It is taken as a
  description of a semigroup: the semigroup it defines is $X^+ / R^\sharp$.
\end{definition}

\begin{definition}
  \label{def:finite-presentation}
  A semigroup presentation $\pres X R$ is \textbf{finite} if $X$ and $R$ both
  have finite size, and each word in each relation in $R$ has finite length.
\end{definition}

The exact wording used to talk about a semigroup $S$ defined by a presentation
$\pres X R$ varies.  Some sources view $\pres X R$ as a semigroup in its own
right: they might describe $S$ as ``isomorphic to'' $\pres X R$, or they might
even say $S$ ``equals'' $\pres X R$.  We will opt for the more careful language
which separates a semigroup from its presentation: $S$ is \textbf{defined by} or
\textbf{presented by} $\pres X R$, if and only if it is isomorphic to
$X^+ / R^\sharp$.

If $S$ is presented by $\pres X R$, there is an epimorphism from $X^+$ to $S$:
if $\pi$ is the natural homomorphism from $X^+$ to the quotient semigroup
$X^+ / R^\sharp$ (see Definition \ref{def:natural-homomorphism}) and $\iota$ is
an isomorphism from $X^+ / R^\sharp$ to $S$, then $\pi\iota$ is an epimorphism
from $X^+$ to $S$, which assigns each word in the generators to an element of
the semigroup $S$.  If $w \in X^+$ and $s \in S$ are such that
$(w)\pi\iota = s$, then we say that the word $w$ \textbf{represents} the element
$s$, or that the element $s$ can be \textbf{factorised} to the word $w$.

\begin{figure}[h]
  \centering
  $
  \begin{tikzcd}
    X^+ \ar[r, two heads, "\pi"] &
    \frac{X^+}{R^\sharp} \ar[r, two heads, hook, "\iota"] &
    S
  \end{tikzcd}
  $
  \caption{Each word from $X^+$ represents an element in $S$}
  \label{fig:word-represents-element}
\end{figure}

\section{Computation \& decidability}
\label{sec:computation-decidability}

Since this thesis will deal with many computational issues, it will be wise to
make precise some computational terms.  We start with a definition of
``algorithm'', a term which is generally well understood, but whose precise
definition is debatable.  In this thesis, we opt for a definition in line with
the Church--Turing thesis, which has been favoured by a variety of authors since
it was established \cite{gurevich_2000, minsky_1967}.

The Church--Turing thesis evolved from work by G\"{o}del, Church and Turing in
the 1930s, in which they established three different models of computation:
\textit{general recursive functions} \cite{godel}, \textit{$\lambda$-calculus}
\cite{church}, and \textit{Turing machines} \cite{turing}.  These three models
were soon shown to be equivalent, with any method computable on one being
computable on both the others.  This led to the Church--Turing thesis: the
opinion that the informal notion of an algorithm is accurately characterised by
each of these three models, and therefore that they should be used as a
definition of ``algorithm''.  This gives rise to our chosen definition.

\begin{definition}
  \label{def:algorithm}
  An \textbf{algorithm} is a computational method which can be simulated by a
  Turing machine.
\end{definition}

This definition encompasses every computation which can be run on today's
electronic computers, and is therefore certainly applicable to any practical
implementation of the algorithms described in this thesis.
